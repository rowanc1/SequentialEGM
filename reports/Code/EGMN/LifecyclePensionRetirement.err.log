Traceback (most recent call last):
  File "C:\Users\alujan\miniconda3\envs\egmn-dev\lib\site-packages\jupyter_cache\executors\utils.py", line 58, in single_nb_execution
    executenb(
  File "C:\Users\alujan\miniconda3\envs\egmn-dev\lib\site-packages\nbclient\client.py", line 1204, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "C:\Users\alujan\miniconda3\envs\egmn-dev\lib\site-packages\nbclient\util.py", line 84, in wrapped
    return just_run(coro(*args, **kwargs))
  File "C:\Users\alujan\miniconda3\envs\egmn-dev\lib\site-packages\nbclient\util.py", line 62, in just_run
    return loop.run_until_complete(coro)
  File "C:\Users\alujan\miniconda3\envs\egmn-dev\lib\asyncio\base_events.py", line 649, in run_until_complete
    return future.result()
  File "C:\Users\alujan\miniconda3\envs\egmn-dev\lib\site-packages\nbclient\client.py", line 663, in async_execute
    await self.async_execute_cell(
  File "C:\Users\alujan\miniconda3\envs\egmn-dev\lib\site-packages\nbclient\client.py", line 965, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "C:\Users\alujan\miniconda3\envs\egmn-dev\lib\site-packages\nbclient\client.py", line 862, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
agent = PensionRetirementConsumerType()
agent.solve()
------------------

[1;31m---------------------------------------------------------------------------[0m
[1;31mAttributeError[0m                            Traceback (most recent call last)
Cell [1;32mIn[2], line 2[0m
[0;32m      1[0m agent [38;5;241m=[39m PensionRetirementConsumerType()
[1;32m----> 2[0m [43magent[49m[38;5;241;43m.[39;49m[43msolve[49m[43m([49m[43m)[49m

File [1;32m~\miniconda3\envs\egmn-dev\lib\site-packages\HARK\core.py:410[0m, in [0;36mAgentType.solve[1;34m(self, verbose)[0m
[0;32m    406[0m [38;5;28;01mwith[39;00m np[38;5;241m.[39merrstate(
[0;32m    407[0m     divide[38;5;241m=[39m[38;5;124m"[39m[38;5;124mignore[39m[38;5;124m"[39m, over[38;5;241m=[39m[38;5;124m"[39m[38;5;124mignore[39m[38;5;124m"[39m, under[38;5;241m=[39m[38;5;124m"[39m[38;5;124mignore[39m[38;5;124m"[39m, invalid[38;5;241m=[39m[38;5;124m"[39m[38;5;124mignore[39m[38;5;124m"[39m
[0;32m    408[0m ):
[0;32m    409[0m     [38;5;28mself[39m[38;5;241m.[39mpre_solve()  [38;5;66;03m# Do pre-solution stuff[39;00m
[1;32m--> 410[0m     [38;5;28mself[39m[38;5;241m.[39msolution [38;5;241m=[39m [43msolve_agent[49m[43m([49m
[0;32m    411[0m [43m        [49m[38;5;28;43mself[39;49m[43m,[49m[43m [49m[43mverbose[49m
[0;32m    412[0m [43m    [49m[43m)[49m  [38;5;66;03m# Solve the model by backward induction[39;00m
[0;32m    413[0m     [38;5;28mself[39m[38;5;241m.[39mpost_solve()

File [1;32m~\miniconda3\envs\egmn-dev\lib\site-packages\HARK\core.py:1018[0m, in [0;36msolve_agent[1;34m(agent, verbose)[0m
[0;32m   1015[0m     t_last [38;5;241m=[39m time()
[0;32m   1016[0m [38;5;28;01mwhile[39;00m go:
[0;32m   1017[0m     [38;5;66;03m# Solve a cycle of the model, recording it if horizon is finite[39;00m
[1;32m-> 1018[0m     solution_cycle [38;5;241m=[39m [43msolve_one_cycle[49m[43m([49m[43magent[49m[43m,[49m[43m [49m[43msolution_last[49m[43m)[49m
[0;32m   1019[0m     [38;5;28;01mif[39;00m [38;5;129;01mnot[39;00m infinite_horizon:
[0;32m   1020[0m         solution [38;5;241m=[39m solution_cycle [38;5;241m+[39m solution

File [1;32m~\miniconda3\envs\egmn-dev\lib\site-packages\HARK\core.py:1142[0m, in [0;36msolve_one_cycle[1;34m(agent, solution_last)[0m
[0;32m   1139[0m temp_dict [38;5;241m=[39m {name: solve_dict[name] [38;5;28;01mfor[39;00m name [38;5;129;01min[39;00m these_args}
[0;32m   1141[0m [38;5;66;03m# Solve one period, add it to the solution, and move to the next period[39;00m
[1;32m-> 1142[0m solution_t [38;5;241m=[39m solve_one_period([38;5;241m*[39m[38;5;241m*[39mtemp_dict)
[0;32m   1143[0m solution_cycle[38;5;241m.[39minsert([38;5;241m0[39m, solution_t)
[0;32m   1144[0m solution_next [38;5;241m=[39m solution_t

File [1;32m~\miniconda3\envs\egmn-dev\lib\site-packages\HARK\core.py:1170[0m, in [0;36mmake_one_period_oo_solver.<locals>.one_period_solver[1;34m(**kwds)[0m
[0;32m   1167[0m [38;5;28;01mif[39;00m [38;5;28mhasattr[39m(solver, [38;5;124m"[39m[38;5;124mprepare_to_solve[39m[38;5;124m"[39m):
[0;32m   1168[0m     solver[38;5;241m.[39mprepare_to_solve()
[1;32m-> 1170[0m solution_now [38;5;241m=[39m [43msolver[49m[38;5;241;43m.[39;49m[43msolve[49m[43m([49m[43m)[49m
[0;32m   1171[0m [38;5;28;01mreturn[39;00m solution_now

File [1;32m~\GitHub\alanlujan91\SequentialEGM\Code\EGMN\ConsPensionContribModel.py:646[0m, in [0;36mPensionContribSolver.solve[1;34m(self)[0m
[0;32m    643[0m [38;5;28;01melse[39;00m:
[0;32m    644[0m     deposit_solution_next [38;5;241m=[39m [38;5;28mself[39m[38;5;241m.[39msolution_next
[1;32m--> 646[0m post_decision_solution [38;5;241m=[39m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43msolve_post_decision[49m[43m([49m[43mdeposit_solution_next[49m[43m)[49m
[0;32m    647[0m consumption_solution [38;5;241m=[39m [38;5;28mself[39m[38;5;241m.[39msolve_consumption_decision(post_decision_solution)
[0;32m    648[0m deposit_solution [38;5;241m=[39m [38;5;28mself[39m[38;5;241m.[39msolve_deposit_decision(consumption_solution)

File [1;32m~\GitHub\alanlujan91\SequentialEGM\Code\EGMN\ConsPensionContribModel.py:245[0m, in [0;36mPensionContribSolver.solve_post_decision[1;34m(self, deposit_stage_next)[0m
[0;32m    231[0m [38;5;250m[39m[38;5;124;03m"""[39;00m
[0;32m    232[0m [38;5;124;03mShould use aMat and bMat.[39;00m
[0;32m    233[0m 
[1;32m   (...)[0m
[0;32m    242[0m [38;5;124;03m    _description_[39;00m
[0;32m    243[0m [38;5;124;03m"""[39;00m
[0;32m    244[0m [38;5;66;03m# unpack next period's solution[39;00m
[1;32m--> 245[0m dvdm_func_next [38;5;241m=[39m [43mdeposit_stage_next[49m[38;5;241;43m.[39;49m[43mdvdm_func[49m
[0;32m    246[0m dvdn_func_next [38;5;241m=[39m deposit_stage_next[38;5;241m.[39mdvdn_func
[0;32m    247[0m v_func_next [38;5;241m=[39m deposit_stage_next[38;5;241m.[39mv_func

[1;31mAttributeError[0m: 'ConsumerSolution' object has no attribute 'dvdm_func'
AttributeError: 'ConsumerSolution' object has no attribute 'dvdm_func'

